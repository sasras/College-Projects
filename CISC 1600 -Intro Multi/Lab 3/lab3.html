<!DOCTYPE html>
<html>
    <!--
    Shawn Singh
    CISC 1600
    Prof. Munoz
    Spring 2015
    Lab 3 - Basic Animattions in Javascript

    The following code is testing how to use the cavans tag of html5 to do 
    animations and drawings. There are two shapes being drawn using two 
    different sets of keys to draw them. Each shape also has its own 
    color.
-->
    <head>
        <script type="text/javascript">
            
            var GAME_SPEED = 1000/60; //This is the game rate or screen refresh rate
            /*Position of Rectangle and its size.*/
            var x = 100; 
            var y = 75;
            var sideLength = 10;
            
            /*Position for the Circle and its size*/
            var circX = 700;
            var circY = 75;
            var radius = 5; // Radius of circle
            
            //The arrrow keys
            var leftKey = false;
            var rightKey = false;
            var upKey = false;
            var downKey = false;
            var spaceKey =false;
            
            //The w, a, s, d and z keys
            var wKey = false;
            var aKey = false;
            var sKey = false;
            var dKey = false;
            var zKey = false; //Use z key to zoom for the circle
            
            /*As the page loads create a window in which the cavavas will be.*/
            window.onload = function()
            {
                c = document.getElementById("myCanvas");
                c.width = window.innerWidth*0.9;
                c.height = window.innerHeight*0.9;
                window.setInterval("draw()", GAME_SPEED);
            }
            
            /*Function checks if key is up or not pressed yet and sets the boolean
            value.*/
            document.onkeyup = function(event)
            {
                switch(event.keyCode)
                {
                    case 37: leftKey = false;
                        break;
                    case 39: rightKey = false;
                        break;
                    case 38: upKey = false;
                        break;
                    case 40: downKey = false;
                        break;
                    case 32: spaceKey = false;
                        break;
                    //The other keys for the cricle
                    case 87: wKey = false;
                        break;
                    case 65: aKey = false;
                        break;
                    case 83: sKey = false;
                        break;
                    case 68: dKey = false;
                        break;
                    case 88: xKey = false;
                        break;
                    case 90: zKey = false;
                        break;
                }
            }
            
            /*Functiion checks if key is down or pressed and sets the boolean
            value*/
            document.onkeydown = function(event)
            {
                switch(event.keyCode)
                {
                    case 37: leftKey = true;
                        break;
                    case 39: rightKey = true;
                        break;
                    case 38: upKey = true;
                        break;
                    case 40: downKey = true;
                        break;
                    case 32: spaceKey = true;
                        break;
                     //The other keys for the cricle
                    case 87: wKey = true;
                        break;
                    case 65: aKey = true;
                        break;
                    case 83: sKey = true;
                        break;
                    case 68: dKey = true;
                        break;
                    case 88: xKey = true;
                        break;
                    case 90: zKey = true;
                        break;
                }
            }
            
            /*The Draw function draws the rectangle or circle
            based on the boolean values of their respective keys.By 
            pressing the keys it will allow the the shapes to be used to
            draw on the canvas*/
            function draw()
            {
                //Rectangle Keys
               if(leftKey == true)
                {
                    x--;
                }
                if(rightKey == true)
                {
                    x++;
                }
                if(upKey == true)
                {
                    y--;
                }
                if(downKey == true)
                {
                    y++;
                }
                if(spaceKey == true)
                {
                    sideLength++;
                }
                
                //Circle Keys
                if(aKey == true)
                {
                    circX--;
                }
                if(dKey == true)
                {
                    circX++;
                }
                if(wKey == true)
                {
                    circY--;
                }
                if(sKey == true)
                {
                    circY++;
                }
                if(zKey == true)
                {
                    radius++;
                }
                
                var c = document.getElementById("myCanvas"); 
                var cntxt = c.getContext("2d");
                
                //Draw and Color Rectangle.
                cntxt.fillStyle = "#FF0000"; //Red
                cntxt.fillRect(x,y, sideLength, sideLength);
                
                /*Draw and Color Circle.*/
                cntxt.beginPath(); //Need begin path so circle is redrawn.
                cntxt.arc(circX , circY, radius, 0, 2 * Math.PI);
                cntxt.fillStyle = "#00de3c";
                cntxt.fill();
            }
        </script>
        
    </head>
    
    <body>
        <canvas id="myCanvas" style="border: 5px solid #0014ff;">
            Your browser does not support this cavans element.
        </canvas>
    </body>
    
</html>